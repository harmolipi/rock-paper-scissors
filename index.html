<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>

    function computerPlay() {
        switch(Math.floor((Math.random() * 3) +1)) {
            case 1:
                return "Rock";
            case 2:
                return "Paper";
            case 3:
                return "Scissors";
        }
    }

    function playRound(playerSelection, computerSelection) {
        computerSelection = computerPlay();
        playerSelection = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1).toLowerCase();

        if (computerSelection === playerSelection) {
            return `It was a tie!`
        }

        switch(playerSelection) {
            case "Rock":
                if (computerSelection === "Scissors") {
                    return `You win! ${playerSelection} beats ${computerSelection}`
                } else {
                    return `You lose! ${computerSelection} beats ${playerSelection}`
                }
            case "Paper":
                if (computerSelection === "Rock") {
                    return `You win! ${playerSelection} beats ${computerSelection}`
                } else {
                    return `You lose! ${computerSelection} beats ${playerSelection}`
                }
            case "Scissors":
                if (computerSelection === "Paper") {
                    return `You win! ${playerSelection} beats ${computerSelection}`
                } else {
                    return `You lose! ${computerSelection} beats ${playerSelection}`
                }
            default:
                return `That was an invalid entry! Point goes to the computer.`;
        }
    }

    function game() {
        //initializing variables
        let roundNumber = 1;
        let playerWins = 0;
        let computerWins = 0;
        let result;
        let winner;
        
        //Rounds loop
        for (roundNumber; roundNumber <= 5; roundNumber++) {
            playerSelection = window.prompt(`Round ${roundNumber}: Rock, Paper, or Scissors?`, `Rock`);
            computerSelection = computerPlay();
            result = playRound(playerSelection, computerSelection);
            console.log(`Round ${roundNumber}:`);
            console.log(result);
            window.alert(result);
            if (result.includes(`win`)) {
                playerWins++;
            } else if (result.includes(`lose`)) {
                computerWins++;
            } else if (result.includes(`tie`)) {
            } else {
                computerWins++; //invalid entry
            } 
        }
        

        //Declaring the winner

        if (playerWins === computerWins) {
            winner = `tie`;
            console.log(`Result: tie.`);
            window.alert(`Wow! It was a tie!`);
        } else if (playerWins > computerWins) {
            winner = `player`;
            console.log(`Result: ${winner} wins.`);
            window.alert(`Congratulations! You won: ${playerWins} to ${computerWins}!`);
        } else {
            winner = `computer`;
            console.log(`Result: ${winner} wins.`);
            window.alert(`So sorry, you lost: ${playerWins} to ${computerWins}. Better luck next time!`);
        }
    }

  </script>
</body>
</html>